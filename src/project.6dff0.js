window.__require=function t(e,o,n){function r(i,a){if(!o[i]){if(!e[i]){var s=i.split("/");if(s=s[s.length-1],!e[s]){var u="function"==typeof __require&&__require;if(!a&&u)return u(s,!0);if(c)return c(s,!0);throw new Error("Cannot find module '"+i+"'")}i=s}var l=o[i]={exports:{}};e[i][0].call(l.exports,function(t){return r(e[i][1][t]||t)},l,l.exports,t,e,o,n)}return o[i].exports}for(var c="function"==typeof __require&&__require,i=0;i<n.length;i++)r(n[i]);return r}({BulletCollision:[function(t,e,o){"use strict";cc._RF.push(e,"28e39RyVN9PKrUr6zssj6oE","BulletCollision");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,c=arguments.length,i=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(i=(c<3?r(i):c>3?r(e,o,i):r(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,i=c.ccclass,a=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.onCollisionEnter=function(t,e){this.node.destroy()},e=r([i],e)}(cc.Component));o.default=a,cc._RF.pop()},{}],EndScreen:[function(t,e,o){"use strict";cc._RF.push(e,"1de8datMt9K64XmVtU3KlYe","EndScreen");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,c=arguments.length,i=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(i=(c<3?r(i):c>3?r(e,o,i):r(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,i=c.ccclass,a=c.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.canvas=null,e.installButton=null,e.aud_Btn=null,e}return n(e,t),e.prototype.enableEndScreen=function(){var t=this;this.node.active=!0,this.node.runAction(cc.fadeIn(.2)),cc.tween(this.node.getChildByName("Title")).to(.3,{y:150,opacity:255,scale:1}).start(),cc.tween(this.installButton.node).to(.3,{scale:1},{easing:"quadOut"}).call(function(){t.enableInstallButton(!0)}).start()},e.prototype.enableInstallButton=function(t){this.installButton.interactable=t,t&&cc.tween(this.installButton.node).repeat(100,cc.tween().to(.5,{scale:.9},{easing:"quadInOut"}).to(.5,{scale:1.1},{easing:"quadInOut"})).start()},e.prototype.onClickInstallBtn=function(){cc.audioEngine.play(this.aud_Btn,!1,.05),cc.tween(this.node.getChildByName("cover_letter")).to(.5,{scale:.4},{easing:"expoOut"}).start()},r([a(cc.Node)],e.prototype,"canvas",void 0),r([a(cc.Button)],e.prototype,"installButton",void 0),r([a({type:cc.AudioClip})],e.prototype,"aud_Btn",void 0),e=r([i],e)}(cc.Component);o.default=s,cc._RF.pop()},{}],Main:[function(t,e,o){"use strict";cc._RF.push(e,"d14d0rQd6dL6La4qLKyZt15","Main");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,c=arguments.length,i=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(i=(c<3?r(i):c>3?r(e,o,i):r(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var c=t("./Player"),i=t("./Targets"),a=t("./StartScreen"),s=t("./EndScreen"),u=cc._decorator,l=u.ccclass,p=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.player=null,e.targets=null,e.startScreen=null,e.endScreen=null,e.tutorial=null,e.aud_Bgm=null,e.gameOver=!1,e}return n(e,t),e.prototype.onLoad=function(){this.player.shooterInteractionState(!1),this.startScreen.enablePlayButton(!0),this.node.on("OnPlayButtonClicked",this.OnPlayButtonClicked.bind(this)),this.node.on("onGameOver",this.onGameOver.bind(this)),this.node.on("onInteractionStart",this.enableTutorial.bind(this,!1)),cc.audioEngine.play(this.aud_Bgm,!0,.05)},e.prototype.OnPlayButtonClicked=function(){var t=this;this.player.shooterInteractionState(!0),this.targets.createTargets(),this.enableTutorial(!0),this.scheduleOnce(function(){t.gameOver||t.onGameOver()},30)},e.prototype.onGameOver=function(){this.gameOver=!0,this.player.shooterInteractionState(!1),this.targets.stopTargets(),this.node.getChildByName("Background").getComponent(cc.Animation).stop(),this.endScreen.enableEndScreen()},e.prototype.enableTutorial=function(t){var e=this;t?(this.tutorial.active=!0,this.tutorial.runAction(cc.fadeIn(.5))):(this.tutorial.runAction(cc.fadeOut(.5)),this.scheduleOnce(function(){e.tutorial.active=!1},.5))},r([p({type:c.default})],e.prototype,"player",void 0),r([p({type:i.default})],e.prototype,"targets",void 0),r([p({type:a.default})],e.prototype,"startScreen",void 0),r([p({type:s.default})],e.prototype,"endScreen",void 0),r([p(cc.Node)],e.prototype,"tutorial",void 0),r([p({type:cc.AudioClip})],e.prototype,"aud_Bgm",void 0),e=r([l],e)}(cc.Component);o.default=h,cc._RF.pop()},{"./EndScreen":"EndScreen","./Player":"Player","./StartScreen":"StartScreen","./Targets":"Targets"}],Player:[function(t,e,o){"use strict";cc._RF.push(e,"655486TdiFGdaN3W9gnrdsX","Player");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,c=arguments.length,i=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(i=(c<3?r(i):c>3?r(e,o,i):r(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var c=t("./TopInfo"),i=cc._decorator,a=i.ccclass,s=i.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.canvas=null,e.shooter=null,e.bulletPrefab=null,e.shooterPrefab=null,e.aud_Bullet=null,e}return n(e,t),e.prototype.onLoad=function(){cc.director.getPhysicsManager().enabled=!0,cc.director.getCollisionManager().enabled=!0,this.node.on("onShooterDestroy",this.onShooterDestroy.bind(this))},e.prototype.shooterInteractionState=function(t){t?(this.shooter.on(cc.Node.EventType.TOUCH_START,this.onTouchStart.bind(this)),this.shooter.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove.bind(this)),this.shooter.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd.bind(this)),this.shooter.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchCancel.bind(this))):(this.shooter.off(cc.Node.EventType.TOUCH_START),this.shooter.off(cc.Node.EventType.TOUCH_MOVE),this.shooter.off(cc.Node.EventType.TOUCH_END),this.shooter.off(cc.Node.EventType.TOUCH_CANCEL),this.unschedule(this.shootBullets))},e.prototype.onTouchStart=function(){this.schedule(this.shootBullets,.05),this.canvas.emit("onInteractionStart")},e.prototype.onTouchMove=function(t){var e=t.getLocation(),o=this.node.convertToNodeSpaceAR(cc.v2(e.x,e.y));Math.abs(o.x)+120<this.canvas.width/2&&this.moveShooter(o.x)},e.prototype.onTouchEnd=function(){this.unschedule(this.shootBullets)},e.prototype.onTouchCancel=function(){this.unschedule(this.shootBullets)},e.prototype.shootBullets=function(){var t=cc.instantiate(this.bulletPrefab);t.setParent(this.node.getChildByName("Bullets")),t.setPosition(this.shooter.x,this.shooter.y+110);var e=this.canvas.height/2+300;cc.audioEngine.play(this.aud_Bullet,!1,.5),cc.tween(t).to(1,{y:e}).call(function(){t.destroy()}).start()},e.prototype.moveShooter=function(t){this.shooter.x=t},e.prototype.onShooterDestroy=function(t){var e=this;this.shooterInteractionState(!1),this.unschedule(this.shootBullets),this.scheduleOnce(function(){e.resetToTryAgain()},t)},e.prototype.resetToTryAgain=function(){cc.find("Canvas/TopInfo").getComponent(c.default).getLifeCount()>0?(this.shooter=cc.instantiate(this.shooterPrefab),this.shooter.setParent(this.node),this.shooter.setPosition(0,-600),this.shooterInteractionState(!0)):this.canvas.emit("onGameOver")},r([s(cc.Node)],e.prototype,"canvas",void 0),r([s(cc.Node)],e.prototype,"shooter",void 0),r([s(cc.Prefab)],e.prototype,"bulletPrefab",void 0),r([s(cc.Prefab)],e.prototype,"shooterPrefab",void 0),r([s({type:cc.AudioClip})],e.prototype,"aud_Bullet",void 0),e=r([a],e)}(cc.Component);o.default=u,cc._RF.pop()},{"./TopInfo":"TopInfo"}],StartScreen:[function(t,e,o){"use strict";cc._RF.push(e,"06158UC4PlPL5pUwG0aIOz7","StartScreen");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,c=arguments.length,i=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(i=(c<3?r(i):c>3?r(e,o,i):r(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,i=c.ccclass,a=c.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.canvas=null,e.playButton=null,e.aud_Btn=null,e}return n(e,t),e.prototype.enablePlayButton=function(t){this.playButton.interactable=t,t&&cc.tween(this.playButton.node).repeat(100,cc.tween().to(.5,{scale:.9},{easing:"quadInOut"}).to(.5,{scale:1.1},{easing:"quadInOut"})).start()},e.prototype.onClickPlayButton=function(){var t=this;this.canvas.emit("OnPlayButtonClicked"),this.enablePlayButton(!1),cc.audioEngine.play(this.aud_Btn,!1,.05),cc.tween(this.node.getChildByName("Title")).to(.3,{y:1200,opacity:0,scale:3}).start(),cc.tween(this.playButton.node).to(.3,{scale:0},{easing:"quadOut"}).call(function(){t.playButton.node.active=!1,cc.tween(t.node).to(.1,{opacity:0}).call(function(){t.node.active=!1}).start()}).start()},r([a(cc.Node)],e.prototype,"canvas",void 0),r([a(cc.Button)],e.prototype,"playButton",void 0),r([a({type:cc.AudioClip})],e.prototype,"aud_Btn",void 0),e=r([i],e)}(cc.Component);o.default=s,cc._RF.pop()},{}],TargetCollision:[function(t,e,o){"use strict";cc._RF.push(e,"601d58n4h1IIoVOqhgBFw2M","TargetCollision");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,c=arguments.length,i=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(i=(c<3?r(i):c>3?r(e,o,i):r(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,i=c.ccclass,a=c.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.aud_Explosion=null,e}return n(e,t),e.prototype.onCollisionEnter=function(t,e){if("bullet<BoxCollider>"==t.name)e.getComponent(cc.RigidBody).active=!1,e.getComponent(cc.Animation).play("explosion-01"),cc.audioEngine.play(this.aud_Explosion,!1,.5),e.destroy(),cc.find("Canvas/TopInfo").emit("onTargetDestroy");else if("Shooter<PolygonCollider>"==t.name){e.getComponent(cc.RigidBody).active=!1,e.getComponent(cc.Animation).play("explosion-01"),e.destroy(),cc.audioEngine.play(this.aud_Explosion,!1,.5);var o=t.getComponent(cc.Animation).play("explosion-01").duration;t.destroy(),cc.find("Canvas/Player").emit("onShooterDestroy",o),cc.find("Canvas/TopInfo").emit("onShooterDestroy")}},r([a({type:cc.AudioClip})],e.prototype,"aud_Explosion",void 0),e=r([i],e)}(cc.Component);o.default=s,cc._RF.pop()},{}],Targets:[function(t,e,o){"use strict";cc._RF.push(e,"09f9bTzWSBFc7dpH5XZp9/X","Targets");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,c=arguments.length,i=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(i=(c<3?r(i):c>3?r(e,o,i):r(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,i=c.ccclass,a=c.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.canvas=null,e.targets=[],e}return n(e,t),e.prototype.onLoad=function(){cc.director.getPhysicsManager().enabled=!0,cc.director.getCollisionManager().enabled=!0},e.prototype.createTargets=function(){this.schedule(this.spawnTargets,1)},e.prototype.spawnTargets=function(){var t=cc.instantiate(this.targets[Math.floor(Math.random()*(this.targets.length-0))+0]);t.parent=this.node;var e=cc.v2(800*Math.random()-400,this.canvas.height/2+400);t.setPosition(e)},e.prototype.stopTargets=function(){this.unschedule(this.spawnTargets),this.node.children.forEach(function(t){t.getComponent(cc.RigidBody).active=!1})},r([a(cc.Node)],e.prototype,"canvas",void 0),r([a(cc.Prefab)],e.prototype,"targets",void 0),e=r([i],e)}(cc.Component);o.default=s,cc._RF.pop()},{}],TopInfo:[function(t,e,o){"use strict";cc._RF.push(e,"02c26nwSdxASbCHnUVEDfKr","TopInfo");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,c=arguments.length,i=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(i=(c<3?r(i):c>3?r(e,o,i):r(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,i=c.ccclass,a=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.score=0,e.scoreCard=null,e.LifeCount=null,e}return n(e,t),e.prototype.onLoad=function(){this.scoreCard=this.node.getChildByName("ScoreCard"),this.LifeCount=this.node.getChildByName("LifeCount"),this.scoreCard.getChildByName("label").getComponent(cc.Label).string="Score: "+this.score,this.node.on("onTargetDestroy",this.incrementScore.bind(this)),this.node.on("onShooterDestroy",this.decrementLife.bind(this))},e.prototype.incrementScore=function(){this.score+=1,this.scoreCard.getChildByName("label").getComponent(cc.Label).string="Score: "+this.score},e.prototype.decrementLife=function(){this.LifeCount.getChildByName("chances").children.length>0&&this.LifeCount.getChildByName("chances").children[this.LifeCount.getChildByName("chances").children.length-1].destroy()},e.prototype.getLifeCount=function(){return this.LifeCount.getChildByName("chances").children.length},e=r([i],e)}(cc.Component));o.default=a,cc._RF.pop()},{}]},{},["BulletCollision","EndScreen","Main","Player","StartScreen","TargetCollision","Targets","TopInfo"]);